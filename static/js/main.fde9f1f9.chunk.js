(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(41).concat([function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(31),s=c.n(a),n=c(5),i=c(8),r=c(4),o=c(6),l=c.n(o),d=c(0),u=c.n(d),j=c(3),b=function(e,t){var c=Object(d.useState)((function(){try{var c=localStorage.getItem(e);return c?JSON.parse(c):t}catch(a){return t}})),a=Object(r.a)(c,2),s=a[0],n=a[1];return[s,function(t){n(t),localStorage.setItem(e,JSON.stringify(t))}]},m=c(1),_=u.a.createContext({favoriteProducts:[],setFavoriteProducts:function(){}}),h=function(e){var t=e.children,c=b("favorites",[]),a=Object(r.a)(c,2),s=a[0],n=a[1],i=Object(d.useMemo)((function(){return{favoriteProducts:s,setFavoriteProducts:n}}),[s]);return Object(m.jsx)(_.Provider,{value:i,children:t})},O=u.a.createContext({productsInCart:[],setProductsInCart:function(){}}),v=function(e){var t=e.children,c=b("cart",[]),a=Object(r.a)(c,2),s=a[0],n=a[1],i=Object(d.useMemo)((function(){return{productsInCart:s,setProductsInCart:n}}),[s]);return Object(m.jsx)(O.Provider,{value:i,children:t})},x=c(9),f=c(7),p=c.n(f),g=(c(41),c.p+"static/media/banner1.b4eeda8b.png"),N=c.p+"static/media/banner2.bdd2e0fc.png",P=c.p+"static/media/banner3.a962057c.png",y=c.p+"static/media/arrow-left.7e79118d.svg",C=c.p+"static/media/arrow-right.079e7aa2.svg",k=[g,N,P],w=function(){var e=Object(d.useState)(0),t=Object(r.a)(e,2),c=t[0],a=t[1],s=function(){a((function(e){return(e+1)%k.length}))};return Object(d.useEffect)((function(){var e=setInterval(s,5e3);return function(){return clearInterval(e)}}),[]),Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"carousel",children:[Object(m.jsxs)("div",{className:"carousel__content",children:[Object(m.jsx)("button",{onClick:function(){a((function(e){return 0===e?k.length-1:e-1}))},className:"carousel__button",type:"button",children:Object(m.jsx)("img",{src:y,alt:"arrow-left"})}),Object(m.jsx)("div",{className:"carousel__images",children:k.map((function(e,t){return Object(m.jsx)("div",{className:"carousel__image",style:{opacity:t===c?1:0},children:Object(m.jsx)("img",{src:e,alt:"Slide ".concat(t+1),className:"carousel__img"})},e)}))}),Object(m.jsx)("button",{onClick:s,className:"carousel__button",type:"button",children:Object(m.jsx)("img",{src:C,alt:"arrow-right"})})]}),Object(m.jsx)("div",{className:"carousel__dots",children:k.map((function(e,t){return Object(m.jsx)("div",{onKeyDown:function(e){return function(e,t){"Enter"!==e.key&&" "!==e.key||a(t)}(e,t)},className:p()("carousel__dot",{active:t===c}),onClick:function(){return a(t)}},e)}))})]})})},S=c(11),I=c(27),D=(c(44),function(e){var t=e.handleAddToCart,c=e.id,a=Object(d.useContext)(O).productsInCart.some((function(e){return(e.phoneId===c||e.id===c)&&0!==e.quantity}));return Object(m.jsx)("button",{type:"button",className:p()("AddToCartButton",{isItemInCart:a}),onClick:function(){t()},children:a?"Added to cart":"Add to cart"})}),B=(c(45),function(e){var t=e.handleAddToFavorites,c=e.isItemFav;return Object(m.jsx)("button",{type:"button",className:p()("AddToFavButton",{isItemFav:c}),onClick:t,"data-cy":"addToFavorite"})}),F="https://mate-academy.github.io/react_phone-catalog/_new";function A(e){return new Promise((function(t){setTimeout(t,e)}))}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={method:t};return c&&(a.body=JSON.stringify(c),a.headers={"Content-Type":"application/json; charset=UTF-8"}),A(300).then((function(){return fetch(F+e,a)})).then((function(e){if(!e.ok)throw new Error;return e.json()}))}var T,E=function(e){return M(e)},q=function(e){return E("/products/".concat(e,".json"))},L=c.p+"static/media/error.25000083.svg",R=(c(46),function(e){var t=e.product,c=t.name,a=t.price,s=t.screen,o=t.capacity,u=t.ram,j=t.id,b=t.image,h=t.category,v=t.itemId,f=t.fullPrice,p=Object(d.useContext)(O),g=p.productsInCart,N=p.setProductsInCart,P=Object(d.useContext)(_),y=P.favoriteProducts,C=P.setFavoriteProducts,k=Object(d.useState)(!1),w=Object(r.a)(k,2),F=w[0],A=w[1],M=Object(d.useState)(!1),T=Object(r.a)(M,2),E=T[0],R=T[1],$=Object(d.useState)(),z=Object(r.a)($,2),J=z[0],U=z[1];Object(d.useEffect)((function(){A(!0);var e=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(v);case 3:t=e.sent,U(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),R(!0);case 10:return e.prev=10,A(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){A(!1)}}),[]);var W=g.some((function(e){return e.id===j})),H=y.some((function(e){return e.id===j})),Y=Object(d.useRef)(null);return Object(m.jsx)("div",{className:"ProductCard",ref:Y,children:Object(m.jsxs)("div",{className:"ProductCard__content",children:[E&&!F&&Object(m.jsxs)("div",{className:"ProductCard__error",children:[Object(m.jsx)("img",{src:L,alt:"error",className:"ProductCard__error-img"}),Object(m.jsx)("h2",{children:"Product download error"})]}),F&&!E?Object(m.jsx)(I.a,{strokeColor:"#EB5757",strokeWidth:"5",animationDuration:"0.75",width:"66",visible:F}):!E&&Object(m.jsxs)(m.Fragment,{children:[J&&Object(m.jsx)(n.b,{to:"/".concat(h,"/").concat(v),state:J,className:"ProductCard__photo",onClick:function(){window.scrollTo({top:0})},children:Object(m.jsx)("img",{src:b,alt:"product",className:"ProductCard__img"})}),Object(m.jsx)("div",{className:"ProductCard__title",children:c}),Object(m.jsxs)("div",{className:"ProductCard__price",children:[Object(m.jsx)("div",{className:"ProductCard__price-normal",children:"$".concat(a)}),a&&Object(m.jsx)("div",{className:"ProductCard__price-discounted",children:"$".concat(f)})]}),Object(m.jsxs)("div",{className:"ProductCard__details",children:[Object(m.jsxs)("div",{className:"ProductCard__details-item",children:[Object(m.jsx)("div",{className:"ProductCard__details-item__name",children:"Screen"}),Object(m.jsx)("div",{className:"ProductCard__details-item__value",children:s||"-"})]}),Object(m.jsxs)("div",{className:"ProductCard__details-item",children:[Object(m.jsx)("div",{className:"ProductCard__details-item__name",children:"Capacity"}),Object(m.jsx)("div",{className:"ProductCard__details-item__value",children:o||"-"})]}),Object(m.jsxs)("div",{className:"ProductCard__details-item",children:[Object(m.jsx)("div",{className:"ProductCard__details-item__name",children:"RAM"}),Object(m.jsx)("div",{className:"ProductCard__details-item__value",children:u||"-"})]})]}),Object(m.jsxs)("div",{className:"ProductCard__buttons",children:[Object(m.jsx)(D,{handleAddToCart:function(){if(W){var e=g.filter((function(e){return e.id!==j}));N(e)}else{var c=Object(S.a)(Object(S.a)({},t),{},{quantity:1});N([].concat(Object(x.a)(g),[c]))}},id:j}),Object(m.jsx)(B,{handleAddToFavorites:function(){if(H){var e=y.filter((function(e){return e.id!==j}));C(e)}else C([].concat(Object(x.a)(y),[t]))},isItemFav:H})]})]})]})})}),$=(c(47),u.a.memo((function(e){var t=e.title,c=e.products,a=Object(d.useState)(0),s=Object(r.a)(a,2),n=s[0],i=s[1],o=Object(d.useMemo)((function(){return c.slice(n,n+4)}),[c,n]),l=0===n,u=n===c.length-4;return Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"ProductsSlider",children:[Object(m.jsxs)("div",{className:"ProductsSlider__content",children:[Object(m.jsx)("h2",{className:"ProductsSlider__title",children:t}),Object(m.jsxs)("div",{className:"ProductsSlider__buttons",children:[Object(m.jsx)("button",{type:"button",onClick:function(){i((function(e){return Math.max(0,e-1)}))},disabled:l,className:p()("ProductsSlider__button",{disabled:l}),children:Object(m.jsx)("img",{src:y,alt:"arrow-left"})}),Object(m.jsx)("button",{type:"button",onClick:function(){i((function(e){return Math.min(e+1,c.length-4)}))},disabled:u,className:p()("ProductsSlider__button",{disabled:u}),children:Object(m.jsx)("img",{src:C,alt:"arrow-right"})})]})]}),Object(m.jsx)("div",{className:"ProductsSlider__cards","data-cy":"cardsContainer",children:o.map((function(e){return Object(m.jsx)("div",{className:"ProductsSlider__card",children:Object(m.jsx)(R,{product:e})},e.id)}))})]})})})));!function(e){e.phone="phones",e.tablet="tablet",e.accessory="accessory"}(T||(T={}));c(48);var z=u.a.memo((function(e){var t=e.products,c=function(e,t){return e.filter((function(e){return e.category===t})).length};return Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"ShopByCategory",children:[Object(m.jsx)("h2",{className:"ShopByCategory__title",children:"Shop by category"}),Object(m.jsxs)("div",{className:"ShopByCategory__links","data-cy":"categoryLinksContainer",children:[Object(m.jsxs)(n.b,{to:"/phones",className:"ShopByCategory__link",onClick:function(){window.scrollTo({top:0})},children:[Object(m.jsx)("div",{className:"ShopByCategory__link-photo ShopByCategory__link-photo__phones"}),Object(m.jsx)("h3",{className:"ShopByCategory__link-title",children:"Mobile phones"}),Object(m.jsx)("h4",{className:"ShopByCategory__link-subtitle",children:"".concat(c(t,T.phone)," models")})]}),Object(m.jsxs)(n.b,{to:"/tablets",className:"ShopByCategory__link",onClick:function(){window.scrollTo({top:0})},children:[Object(m.jsx)("div",{className:"ShopByCategory__link-photo ShopByCategory__link-photo__tablets"}),Object(m.jsx)("h3",{className:"ShopByCategory__link-title",children:"Tablets"}),Object(m.jsx)("h4",{className:"ShopByCategory__link-subtitle",children:"".concat(c(t,T.tablet)," models")})]}),Object(m.jsxs)(n.b,{to:"/accessories",className:"ShopByCategory__link",onClick:function(){window.scrollTo({top:0})},children:[Object(m.jsx)("div",{className:"ShopByCategory__link-photo ShopByCategory__link-photo__accessories"}),Object(m.jsx)("h3",{className:"ShopByCategory__link-title",children:"Accessories"}),Object(m.jsx)("h4",{className:"ShopByCategory__link-subtitle",children:"".concat(c(t,T.accessory)," models")})]})]})]})})})),J=u.a.memo((function(e){var t=e.products,c=Object(d.useMemo)((function(){return t.filter((function(e){return e.price})).sort((function(e,t){return t.price-e.price}))}),[t]),a=Object(d.useMemo)((function(){return Object(x.a)(t).sort((function(e,t){return t.year-e.year}))}),[t]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(w,{}),Object(m.jsx)($,{title:"Hot prices",products:c}),Object(m.jsx)(z,{products:t}),Object(m.jsx)($,{title:"Brand new models",products:a})]})})),U=(c(49),function(){var e=Object(j.n)();return Object(m.jsxs)("button",{"data-cy":"backButton",type:"button",className:"BackButton",onClick:function(){return e(-1)},children:[Object(m.jsx)("img",{src:y,alt:"back button",className:"BackButton__image"}),Object(m.jsx)("div",{className:"BackButton__text",children:"Back"})]})}),W=c.p+"static/media/cross.0be1ed2a.svg",H=(c(50),"PLUS"),Y="MINUS",G=function(e){var t=e.product,c=t.name,a=t.id,s=t.quantity,n=t.image,i=t.price,r=Object(d.useContext)(O),o=r.productsInCart,l=r.setProductsInCart,u=i*s,j=function(e){l(o.filter((function(t){return t.id!==e})))},b=function(e,t){var c=o.some((function(t){return t.id===e}));s&&c&&(t===H&&l(o.map((function(t){return t.id===e?Object(S.a)(Object(S.a)({},t),{},{quantity:s+1}):t}))),t===Y&&l(o.map((function(t){return t.id===e?Object(S.a)(Object(S.a)({},t),{},{quantity:s-1}):t}))),0===s&&j(e))};return Object(m.jsxs)("div",{className:"CartItem",children:[Object(m.jsx)("button",{type:"button",className:"CartItem__remove-btn","data-cy":"cartDeleteButton",onClick:function(){return j(a)},children:Object(m.jsx)("img",{src:W,alt:"delete item"})}),Object(m.jsx)("div",{className:"CartItem__photo",children:Object(m.jsx)("img",{src:"_new/".concat(n),alt:"product",className:"CartItem__img"})}),Object(m.jsx)("div",{className:"CartItem__title",children:c}),Object(m.jsx)("button",{type:"button",className:"CartItem__decrease",onClick:function(){return b(a,Y)},children:"-"}),Object(m.jsx)("div",{className:"CartItem__quantity","data-cy":"productQuantity",children:s}),Object(m.jsx)("button",{type:"button",className:"CartItem__increase",onClick:function(){return b(a,H)},children:"+"}),Object(m.jsx)("div",{className:"CartItem__price",children:"$".concat(u)})]})},K=(c(51),function(e){var t=e.onClose;return Object(d.useEffect)((function(){var e=setTimeout((function(){t()}),3e3);return function(){clearTimeout(e)}}),[t]),Object(m.jsx)("div",{className:"popup",children:Object(m.jsxs)("div",{className:"popup__container",children:[Object(m.jsx)("h2",{className:"popup__title",children:"We are sorry, but this feature is not implemented yet"}),Object(m.jsx)("button",{className:"popup__btn",onClick:t,type:"button",children:"Close"})]})})}),Q=(c(52),function(){var e=Object(d.useContext)(O).productsInCart,t=Object(d.useState)(!1),c=Object(r.a)(t,2),a=c[0],s=c[1],i=e.reduce((function(e,t){return e+t.price*t.quantity}),0),o=Object(d.useMemo)((function(){return e.reduce((function(e,t){return e+t.quantity}),0)}),[e]),l=function(){s((function(e){return!e}))};return function(e){Object(d.useEffect)((function(){var t=document.querySelector("body");return t&&(e?(t.classList.add("popup-open"),t.style.overflow="hidden"):(t.classList.remove("popup-open"),t.style.overflow="auto")),function(){t&&(t.classList.remove("popup-open"),t.style.overflow="auto")}}),[e])}(a),Object(m.jsx)("div",{className:"CartPage",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"CartPage__content",children:[Object(m.jsx)(U,{}),0===o?Object(m.jsxs)("h1",{className:"CartPage__title CartPage__title--no-products",children:["Your cart is empty. Maybe you want to choose something in"," ",Object(m.jsx)(n.b,{className:"CartPage__link",to:"/phones",children:"Phones"}),","," ",Object(m.jsx)(n.b,{className:"CartPage__link",to:"/tablets",children:"Tablets"})," ","or"," ",Object(m.jsx)(n.b,{className:"CartPage__link",to:"/accessories",children:"Accessories"})," ","?"]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"CartPage__title",children:"Cart"}),Object(m.jsxs)("div",{className:"CartPage__blocks",children:[Object(m.jsx)("div",{className:"CartPage__list",children:e.map((function(e){return 0!==e.quantity&&Object(m.jsx)(G,{product:e},e.id)}))}),Object(m.jsx)("div",{className:"CartPage__checkout",children:Object(m.jsxs)("div",{className:"CartPage__checkout-content",children:[Object(m.jsx)("div",{className:"CartPage__checkout-title",children:"$".concat(i)}),Object(m.jsx)("div",{className:"CartPage__checkout-subtitle",children:"Total for ".concat(o," items")}),Object(m.jsx)("button",{type:"button",className:"CartPage__checkout-button",onClick:l,disabled:a,children:"Checkout"}),a&&Object(m.jsx)(K,{onClose:l})]})})]})]})]})})})}),Z=c.p+"static/media/arrow-right-gray.a374b573.svg",V=c.p+"static/media/home.f28213b9.svg",X=(c(53),function(){var e=Object(j.l)().pathname.split("/").filter((function(e){return""!==e})),t=function(e){var t="";return e.map((function(e){return t+="/".concat(e),{label:e.charAt(0).toUpperCase()+e.slice(1),link:t}}))}(e);return Object(m.jsx)("nav",{className:"breadcrumbs","data-cy":"breadCrumbs",children:Object(m.jsxs)("ul",{className:"breadcrumbs__list",children:[Object(m.jsx)("li",{className:"breadcrumbs__item",children:Object(m.jsx)(n.b,{to:"/",children:Object(m.jsx)("img",{src:V,alt:"home icon",className:"breadcrumbs__icon"})})}),0!==t.length&&Object(m.jsx)("img",{src:Z,alt:""}),t.map((function(c,a){var s=a===e.length-1,i=p()("breadcrumbs__item",{active:s});return Object(m.jsx)(d.Fragment,{children:s?Object(m.jsx)("li",{className:i,children:c.label},c.link):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{className:i,children:Object(m.jsx)(n.b,{to:c.link,children:c.label})},c.link),0!==t.length&&Object(m.jsx)("img",{src:Z,alt:"arrow right"})]})},c.link)}))]})})}),ee=(c(54),u.a.memo((function(e){var t=e.category;return Object(m.jsx)("div",{className:"NoResults",children:Object(m.jsx)("h1",{className:"NoResults__title",children:"".concat(t," not found")})})}))),te=(c(55),function(e){var t=e.products,c=Object(j.l)(),a=c.pathname,s=c.state,o=Object(j.p)().productId,u=void 0===o?"":o,b=Object(d.useState)(),h=Object(r.a)(b,2),v=h[0],f=h[1],g=Object(d.useState)(),N=Object(r.a)(g,2),P=N[0],y=N[1],C=Object(d.useState)(null===v||void 0===v?void 0:v.image),k=Object(r.a)(C,2),w=k[0],F=k[1],A=Object(d.useState)(!0),M=Object(r.a)(A,2),T=M[0],E=M[1],L=Object(d.useContext)(O),R=L.productsInCart,z=L.setProductsInCart,J=Object(d.useContext)(_),W=J.favoriteProducts,H=J.setFavoriteProducts,Y=function(){var e=Object(i.a)(l.a.mark((function e(){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,e.next=4,q(u);case 4:c=e.sent,a=t.find((function(e){return e.phoneId===u})),u===c.id&&(f(a),y(c)),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),new Error("ERROR IN ProductDetailsPage");case 12:return e.prev=12,E(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){Y()}),[u]),Object(d.useEffect)((function(){(null===P||void 0===P?void 0:P.images[0])!==w&&F(null===P||void 0===P?void 0:P.images[0])}),[null===P||void 0===P?void 0:P.images]);var G=R.some((function(e){return e.phoneId===(null===P||void 0===P?void 0:P.id)})),K=W.some((function(e){return e.phoneId===(null===P||void 0===P?void 0:P.id)})),Q=Object(d.useMemo)((function(){return Object(x.a)(t).sort((function(){return Math.random()-.5})).filter((function(e){return e.id!==(null===v||void 0===v?void 0:v.id)}))}),[t,v]);return Object(m.jsx)("div",{className:"ProductDetailsPage",children:Object(m.jsxs)("div",{className:"container",children:[P&&!T?Object(m.jsxs)("div",{className:"ProductDetailsPage__content",children:[Object(m.jsx)(X,{}),Object(m.jsx)(U,{}),Object(m.jsx)("h1",{className:"ProductDetailsPage__title",children:null===P||void 0===P?void 0:P.name}),Object(m.jsxs)("div",{className:"ProductDetailsPage__main",children:[Object(m.jsx)("ul",{className:"ProductDetailsPage__list",children:null===P||void 0===P?void 0:P.images.map((function(e){return Object(m.jsx)("li",{className:"ProductDetailsPage__photo",onClick:function(){return F(e)},children:Object(m.jsx)("img",{className:"ProductDetailsPage__photo-img",src:e,alt:"product img"})},e)}))}),Object(m.jsx)("div",{className:"ProductDetailsPage__current",children:Object(m.jsx)("img",{src:w,alt:"main img",className:"ProductDetailsPage__current-img"})}),Object(m.jsxs)("div",{className:"ProductDetailsPage__characteristics",children:[Object(m.jsxs)("div",{className:"ProductDetailsPage__colors colors",children:[Object(m.jsx)("div",{className:"colors__text",children:"Available colors"}),Object(m.jsx)("div",{className:"colors__list",children:null===P||void 0===P?void 0:P.colorsAvailable.map((function(e){return Object(m.jsx)(n.b,{to:a.replace(null===P||void 0===P?void 0:P.color,e),className:p()("colors__link",{"colors__link-active":e===(null===P||void 0===P?void 0:P.color)}),children:Object(m.jsx)("div",{className:"colors__link-color colors__link-color--".concat(e)})},e)}))})]}),Object(m.jsxs)("div",{className:"ProductDetailsPage__capacities capacities",children:[Object(m.jsx)("div",{className:"capacities__text",children:"Select capacity"}),Object(m.jsx)("div",{className:"capacities__list",children:null===P||void 0===P?void 0:P.capacityAvailable.map((function(e){return Object(m.jsx)(n.b,{to:a.replace(null===P||void 0===P?void 0:P.capacity.toLowerCase(),e.toLowerCase()),type:"button",className:p()("capacities__link",{"capacities__link-active":e===(null===P||void 0===P?void 0:P.capacity)}),children:e},e)}))})]}),Object(m.jsxs)("div",{className:"ProductDetailsPage__price price",children:[Object(m.jsx)("div",{className:"price__normal",children:"$".concat(null===P||void 0===P?void 0:P.priceDiscount)}),v&&Object(m.jsx)("div",{className:"price__without-discount",children:"$".concat(null===P||void 0===P?void 0:P.priceRegular)})]}),Object(m.jsxs)("div",{className:"ProductDetailsPage__buttons buttons",children:[Object(m.jsx)(D,{handleAddToCart:function(){if(G){var e=R.filter((function(e){return e.phoneId!==(null===P||void 0===P?void 0:P.id)}));z(e)}else if(v){var t=Object(S.a)(Object(S.a)({},v),{},{quantity:1});z([].concat(Object(x.a)(R),[t]))}},id:u}),Object(m.jsx)(B,{handleAddToFavorites:function(){if(K){var e=W.filter((function(e){return e.phoneId!==(null===P||void 0===P?void 0:P.id)}));H(e)}else v&&H([].concat(Object(x.a)(W),[v]))},isItemFav:K})]}),Object(m.jsxs)("div",{className:"ProductDetailsPage__details details",children:[Object(m.jsxs)("div",{className:"details__item",children:[Object(m.jsx)("div",{className:"details__name",children:"Screen"}),Object(m.jsx)("div",{className:"details__value",children:P.screen||"-"})]}),Object(m.jsxs)("div",{className:"details__item",children:[Object(m.jsx)("div",{className:"details__name",children:"Resolution"}),Object(m.jsx)("div",{className:"details__value",children:P.resolution||"-"})]}),Object(m.jsxs)("div",{className:"details__item",children:[Object(m.jsx)("div",{className:"details__name",children:"Processor"}),Object(m.jsx)("div",{className:"details__value",children:P.processor||"-"})]}),Object(m.jsxs)("div",{className:"details__item",children:[Object(m.jsx)("div",{className:"details__name",children:"RAM"}),Object(m.jsx)("div",{className:"details__value",children:P.ram||"-"})]})]})]}),Object(m.jsxs)("div",{className:"ProductDetailsPage__id",children:[Object(m.jsx)("div",{className:"ProductDetailsPage__id-name",children:"ID:"}),Object(m.jsx)("div",{className:"ProductDetailsPage__id-value",children:P.id||"-"})]})]}),Object(m.jsxs)("div",{className:"ProductDetailsPage__info",children:[Object(m.jsxs)("div",{className:"ProductDetailsPage__about about","data-cy":"productDescription",children:[Object(m.jsx)("h2",{className:"about__title",children:"About"}),Object(m.jsx)("div",{className:"about__description",children:P.description.map((function(e){return e.text}))})]}),Object(m.jsxs)("div",{className:"ProductDetailsPage__tech tech",children:[Object(m.jsx)("h2",{className:"tech__title",children:"Tech specs"}),Object(m.jsxs)("div",{className:"tech__details details",children:[Object(m.jsxs)("div",{className:"details__item details__item--tech",children:[Object(m.jsx)("div",{className:"details__name",children:"Screen"}),Object(m.jsx)("div",{className:"details__value",children:P.screen||"-"})]}),Object(m.jsxs)("div",{className:"details__item details__item--tech",children:[Object(m.jsx)("div",{className:"details__name",children:"Resolution"}),Object(m.jsx)("div",{className:"details__value",children:P.resolution||"-"})]}),Object(m.jsxs)("div",{className:"details__item details__item--tech",children:[Object(m.jsx)("div",{className:"details__name",children:"Processor"}),Object(m.jsx)("div",{className:"details__value",children:P.processor||"-"})]}),Object(m.jsxs)("div",{className:"details__item details__item--tech",children:[Object(m.jsx)("div",{className:"details__name",children:"RAM"}),Object(m.jsx)("div",{className:"details__value",children:P.ram||"-"})]}),Object(m.jsxs)("div",{className:"details__item details__item--tech",children:[Object(m.jsx)("div",{className:"details__name",children:"Built in memory"}),Object(m.jsx)("div",{className:"details__value",children:P.capacity||"-"})]}),Object(m.jsxs)("div",{className:"details__item details__item--tech",children:[Object(m.jsx)("div",{className:"details__name",children:"Camera"}),Object(m.jsx)("div",{className:"details__value",children:P.camera||"-"})]}),Object(m.jsxs)("div",{className:"details__item details__item--tech",children:[Object(m.jsx)("div",{className:"details__name",children:"Zoom"}),Object(m.jsx)("div",{className:"details__value",children:P.zoom||"-"})]}),Object(m.jsxs)("div",{className:"details__item details__item--tech",children:[Object(m.jsx)("div",{className:"details__name",children:"Wifi"}),Object(m.jsx)("div",{className:"details__value",children:P.cell||"-"})]})]})]})]}),Object(m.jsx)($,{title:"You may also like",products:Q},null===s||void 0===s?void 0:s.id)]}):Object(m.jsx)("div",{className:"ProductDetailsPage__loading",children:Object(m.jsx)(I.a,{strokeColor:"#EB5757",strokeWidth:"5",animationDuration:"0.75",width:"77",visible:T})}),!P&&!s&&!T&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(U,{}),Object(m.jsx)(ee,{category:"Product"})]})]})})}),ce=c.p+"static/media/6134065.41ade0ad.png",ae=(c(56),function(){return Object(m.jsxs)("div",{className:"NoSearchResults",children:[Object(m.jsx)("img",{src:ce,alt:"no results",className:"NoSearchResults__image"}),Object(m.jsx)("h1",{className:"NoSearchResults__title",children:"No search results"})]})}),se=(c(57),function(){var e=Object(d.useContext)(_).favoriteProducts,t=Object(n.d)(),c=Object(r.a)(t,1)[0].get("query")||"",a=Object(d.useMemo)((function(){return e.filter((function(e){var t=c.toLowerCase().trim();return e.name.toLowerCase().trim().includes(t)}))}),[e,c]);return Object(m.jsx)("div",{className:"FavoritesPage",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"FavoritesPage__content",children:[Object(m.jsx)(X,{}),0===a.length&&!c&&Object(m.jsxs)("h1",{className:"FavoritesPage__title FavoritesPage__title--no-products",children:["You don't have any favorite products. Maybe you want to choose something in"," ",Object(m.jsx)(n.b,{className:"FavoritesPage__link",to:"/phones",children:"Phones"}),","," ",Object(m.jsx)(n.b,{className:"FavoritesPage__link",to:"/tablets",children:"Tablets"})," ","or"," ",Object(m.jsx)(n.b,{className:"FavoritesPage__link",to:"/accessories",children:"Accessories"})," ","?"]}),0===a.length&&c&&Object(m.jsx)(ae,{}),a.length>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"FavoritesPage__title",children:"Favorites"}),Object(m.jsx)("div",{className:"FavoritesPage__quantity",children:"".concat(a.length," items")}),Object(m.jsx)("div",{className:"FavoritesPage__list",children:a.map((function(e){return Object(m.jsx)(R,{product:e},e.id||e.phoneId)}))})]})]})})})}),ne=(c(58),function(){return Object(m.jsxs)("div",{className:"NotFoundPage",children:[Object(m.jsx)("div",{className:"NotFoundPage__back",children:Object(m.jsx)(U,{})}),Object(m.jsx)("div",{className:"NotFoundPage__title",children:Object(m.jsx)("h1",{children:"Page not found..."})})]})});function ie(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(r.a)(e,2),a=t[0],s=t[1];null===s?c.delete(a):Array.isArray(s)?(c.delete(a),s.forEach((function(e){c.append(a,e)}))):c.set(a,s)})),c.toString()}var re=[{value:"age",label:"Newest"},{value:"name",label:"Alphabetically"},{value:"price",label:"Cheapest"}],oe=(c(59),function(e){var t=e.options,c=e.value,a=e.onChange,s=Object(d.useState)(!1),n=Object(r.a)(s,2),i=n[0],o=n[1],l=function(){o((function(e){return!e}))},u=t.filter((function(e,t,c){return c.findIndex((function(t){return t.value===e.value}))===t}));"All"===u[0].label&&(u.length=1);var j=u.find((function(e){return e.value===c}));Object(d.useEffect)((function(){var e=function(e){"Escape"===e.key&&o(!1)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]);return Object(m.jsxs)("div",{className:"DropDown",children:[Object(m.jsx)("div",{className:p()("DropDown__select",{"DropDown__select--is-active":i}),onClick:l,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),l())},role:"button",tabIndex:0,children:j?j.label:""}),i&&Object(m.jsx)("ul",{className:"DropDown__list",children:u.map((function(e){return Object(m.jsx)("li",{className:p()("DropDown__item",{"DropDown__item--selected":c===e.value}),onClick:function(){return t=e.value,a(t),void o(!1);var t},children:e.label},e.value)}))})]})}),le=function(e,t,c){var a=t<=2?1:t-2,s=Math.min(a+3,e.length-1);return e.slice(a,s).map((function(e){return Object(m.jsx)(n.b,{to:{search:ie(c,{currentPage:"".concat(e)})},className:p()("Pagination__button","Pagination__button--page",{active:t===e}),children:e},e)}))},de=(c(60),function(e){var t=e.productsLength,c=e.pageSize,a=e.currentPage,s=Object(n.d)(),i=Object(r.a)(s,1)[0],o=function(e,t){for(var c=Math.ceil(e/t),a=[],s=1;s<=c;s+=1)a.push(s);return a}(t,c),l=o.length;return Object(m.jsxs)("div",{className:"Pagination","data-cy":"pagination",children:[Object(m.jsx)(n.b,{className:"Pagination__button Pagination__button--prev","data-cy":"paginationLeft",to:{search:ie(i,{currentPage:1!==a?"".concat(a-1):"1"})},children:Object(m.jsx)("img",{src:y,alt:"previous page button"})}),Object(m.jsx)(n.b,{to:{search:ie(i,{currentPage:"".concat(1)})},className:p()("Pagination__button","Pagination__button--page",{active:1===a}),children:1},1),a>3&&Object(m.jsx)("div",{className:"Pagination__dots",children:"..."}),le(o,a,i),o.length-1>a&&Object(m.jsx)("div",{className:"Pagination__dots",children:"..."}),Object(m.jsx)(n.b,{to:{search:ie(i,{currentPage:"".concat(l)})},className:p()("Pagination__button","Pagination__button--page",{active:a===l}),children:l},l),Object(m.jsx)(n.b,{className:"Pagination__button Pagination__button--next","data-cy":"paginationRight",to:{search:ie(i,{currentPage:"".concat(a!==l?a+1:l)})},children:Object(m.jsx)("img",{src:C,alt:"next page button"})})]})}),ue=(c(61),u.a.memo((function(e){var t=e.products,c=Object(n.d)(),a=Object(r.a)(c,2),s=a[0],i=a[1],o=s.get("query")||"",l=s.get("sortBy")||"age",u=s.get("pageSize")||4,b=s.get("currentPage")||1,_=Object(j.p)().category,h="";if(_){if(["phones","tablets","accessories"].includes(_))switch(_){case"phones":h="Mobile phones";break;case"tablets":h="Tablets";break;case"accessories":h="Accessories";break;default:h="Page"}else h="Page"}var O=Object(d.useMemo)((function(){return _&&["phones","tablets","accessories"].includes(_)?t.filter((function(e){switch(_){case"phones":return e.category===T.phone;case"tablets":return e.category===T.tablet;case"accessories":return e.category===T.accessory;default:return!1}})):[]}),[t,_]),v=Object(d.useMemo)((function(){return O.filter((function(e){var t=o.toLowerCase().trim();return e.name.toLowerCase().trim().includes(t)}))}),[O,o]),f=Object(d.useMemo)((function(){var e=Object(x.a)(v);switch(l){case"name":e.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case"price":e.sort((function(e,t){return e.price-t.price}));break;default:e.sort((function(e,t){return t.year-e.year}))}return e}),[l,v]),p=(+b-1)*+u,g=p+ +u,N=Object(d.useMemo)((function(){return f.slice(p,+g)}),[f,p,g]),P=f.length,y=[4,8,16,P],C=P>4&&+u!==+P;return Object(m.jsx)("div",{className:"ProductsPage",children:Object(m.jsxs)("div",{className:"container",children:[!N.length&&!o&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(X,{}),Object(m.jsx)(ee,{category:h})]}),!N.length&&o?Object(m.jsx)(ae,{}):!!N.length&&Object(m.jsxs)("div",{className:"ProductsPage__content",children:[Object(m.jsx)(X,{}),Object(m.jsx)("h1",{className:"ProductsPage__title",children:h}),Object(m.jsx)("h3",{className:"ProductsPage__subtitle",children:"".concat(P," models")}),Object(m.jsxs)("div",{className:"ProductsPage__filters",children:[Object(m.jsxs)("div",{className:"ProductsPage__filter",children:[Object(m.jsx)("div",{className:"ProductsPage__label",children:"Sort by"}),Object(m.jsx)(oe,{options:re,value:l,onChange:function(e){i(ie(s,{sortBy:e||null,currentPage:"1"}))}})]}),Object(m.jsxs)("div",{className:"ProductsPage__filter",children:[Object(m.jsx)("div",{className:"ProductsPage__label",children:"Items on page"}),Object(m.jsx)(oe,{options:y.map((function(e){return{value:String(e),label:e===P?"All":String(e)}})),value:String(u),onChange:function(e){i(ie(s,{pageSize:e||null,currentPage:"1"}))}})]})]}),Object(m.jsx)("div",{className:"ProductsList","data-cy":"productList",children:N.map((function(e){return Object(m.jsx)(R,{product:e},e.id)}))}),C&&P>0&&Object(m.jsx)(de,{currentPage:+b,pageSize:+u,productsLength:P})]})]})})})));function je(e,t){var c=0;return function(){for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];window.clearTimeout(c),c=window.setTimeout((function(){e.apply(void 0,s)}),t)}}var be=c.p+"static/media/search.1e77bbf1.svg",me=(c(62),function(e){var t=e.setShowMobileMenu,c=Object(n.d)(),a=Object(r.a)(c,2),s=a[0],i=a[1],o=s.get("query")||"",l=Object(d.useState)(o),u=Object(r.a)(l,2),b=u[0],_=u[1],h=Object(j.l)().pathname.split("/")[1],O=Object(d.useCallback)(je(i,1e3),[h]),v=Object(d.useCallback)(je((function(){t&&t(!1)}),1e3),[]);return Object(m.jsxs)("div",{className:"Search",children:[Object(m.jsx)("input",{type:"text",className:"Search__input",placeholder:"Search in ".concat(h,"..."),value:b,onChange:function(e){return function(e){O(ie(s,{query:e.target.value||null,currentPage:"1"})),_(e.target.value),v()}(e)}}),Object(m.jsx)("div",{className:"Search__btn",children:o?Object(m.jsx)("button",{type:"button",className:"Search__delete","data-cy":"searchDelete",onClick:function(){_(""),i(ie(s,{query:null})),t&&t(!1)},"aria-label":"searchDelete"}):Object(m.jsx)("img",{src:be,alt:"search"})})]})});me.defaultProps={setShowMobileMenu:void 0};var _e=["/phones","/tablets","/accessories","/favorites"],he=c.p+"static/media/logo.839aa95d.svg",Oe=c.p+"static/media/burger__menu.7eed0fb5.svg",ve=(c(63),function(){var e=Object(j.l)(),t=Object(d.useContext)(_).favoriteProducts,c=Object(d.useContext)(O).productsInCart,a=Object(d.useState)(!1),s=Object(r.a)(a,2),i=s[0],o=s[1],l=_e.some((function(t){return t===e.pathname})),u=Object(d.useMemo)((function(){return t.length}),[t]),b=Object(d.useMemo)((function(){return c.reduce((function(e,t){return e+t.quantity}),0)}),[c]),h=function(){o((function(e){return!e}))};Object(d.useEffect)((function(){return document.documentElement.style.overflow=i?"hidden":"auto",function(){document.documentElement.style.overflow="auto"}}),[i]);var v=function(){o(!1)};return Object(m.jsxs)("header",{className:"header",children:[Object(m.jsxs)("nav",{className:"header__nav",children:[Object(m.jsx)(n.b,{to:"/",className:"header__logo",children:Object(m.jsx)("img",{src:he,alt:"logo",className:"header__logo-img"})}),Object(m.jsx)("button",{type:"button",className:"header__burger",onClick:h,children:Object(m.jsx)("img",{src:Oe,alt:"menu"})}),Object(m.jsxs)("div",{className:p()("header__mobile mobile",{show:i,"show-menu":i}),children:[Object(m.jsxs)("div",{className:"mobile__header",children:[Object(m.jsx)(n.b,{to:"/",className:"mobile__logo",onClick:v,children:Object(m.jsx)("img",{src:he,alt:"logo",className:"mobile__logo-img"})}),Object(m.jsx)("button",{type:"button",className:"mobile__burger",onClick:h,children:Object(m.jsx)("img",{src:Oe,alt:"menu"})})]}),Object(m.jsx)("div",{className:"mobile__search",children:l&&Object(m.jsx)(me,{setShowMobileMenu:o})}),Object(m.jsxs)("ul",{className:"mobile__menu",children:[Object(m.jsx)("li",{className:"mobile__item",children:Object(m.jsx)(n.c,{to:"/",className:"header__link",onClick:v,children:"Home"})}),Object(m.jsx)("li",{className:"mobile__item",children:Object(m.jsx)(n.c,{to:"/phones",className:"header__link",onClick:v,children:"Phones"})}),Object(m.jsx)("li",{className:"mobile__item",children:Object(m.jsx)(n.c,{to:"/tablets",className:"header__link",onClick:v,children:"Tablets"})}),Object(m.jsx)("li",{className:"mobile__item",children:Object(m.jsx)(n.c,{to:"/accessories",className:"header__link",onClick:v,children:"Accessories"})})]}),Object(m.jsxs)("div",{className:"mobile__buttons",children:[Object(m.jsx)(n.c,{to:"/favorites",className:"header__button header__button--fav mobile__button",onClick:v,children:Object(m.jsx)("span",{className:p()("header__quantity",{active:u>0}),children:u})}),Object(m.jsx)(n.c,{to:"/cart",className:"header__button header__button--cart mobile__button",onClick:v,children:Object(m.jsx)("span",{className:p()("header__quantity",{active:b>0}),children:b})})]})]}),Object(m.jsxs)("ul",{className:"header__menu",children:[Object(m.jsx)("li",{className:"header__item",children:Object(m.jsx)(n.c,{to:"/",className:function(e){var t=e.isActive;return p()("header__link",{"header__link--active":t})},children:"Home"})}),Object(m.jsx)("li",{className:"header__item",children:Object(m.jsx)(n.c,{to:"/phones",className:function(e){var t=e.isActive;return p()("header__link",{"header__link--active":t})},children:"Phones"})}),Object(m.jsx)("li",{className:"header__item",children:Object(m.jsx)(n.c,{to:"/tablets",className:function(e){var t=e.isActive;return p()("header__link",{"header__link--active":t})},children:"Tablets"})}),Object(m.jsx)("li",{className:"header__item",children:Object(m.jsx)(n.c,{to:"/accessories",className:function(e){var t=e.isActive;return p()("header__link",{"header__link--active":t})},children:"Accessories"})})]})]}),Object(m.jsxs)("div",{className:"header__buttons",children:[l&&Object(m.jsx)(me,{}),Object(m.jsx)(n.c,{to:"/favorites",className:"header__button header__button--fav",children:Object(m.jsx)("span",{className:p()("header__quantity",{active:u>0}),children:u})}),Object(m.jsx)(n.c,{to:"/cart",className:"header__button header__button--cart",children:Object(m.jsx)("span",{className:p()("header__quantity",{active:b>0}),children:b})})]})]})}),xe=c.p+"static/media/footer-button.470683b8.svg",fe=(c(64),function(){var e=function(){window.scrollTo({top:0,left:0})};return Object(m.jsx)("footer",{className:"footer",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"footer__content",children:[Object(m.jsx)(n.b,{to:"/",className:"footer__logo",onClick:e,children:Object(m.jsx)("img",{src:he,alt:"logo"})}),Object(m.jsxs)("ul",{className:"footer__menu",children:[Object(m.jsx)("li",{className:"footer__item",children:Object(m.jsx)(n.b,{to:"https://github.com/sheva10barca",target:"_blank",children:"Github"})}),Object(m.jsx)("li",{className:"footer__item",children:Object(m.jsx)(n.b,{to:"/contacts",target:"_blank",children:"Contacts"})}),Object(m.jsx)("li",{className:"footer__item",children:Object(m.jsx)(n.b,{to:"/rights",target:"_blank",children:"Rights"})})]}),Object(m.jsxs)("div",{className:"footer__button",onClick:e,children:[Object(m.jsx)("div",{className:"footer__button-text",children:"Back to top"}),Object(m.jsx)("div",{className:"footer__button-arrow",children:Object(m.jsx)("button",{type:"button",className:"footer__button-btn",children:Object(m.jsx)("img",{src:xe,alt:"button back to top"})})})]})]})})})}),pe=(c(65),function(){var e=Object(d.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],s=function(){var e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("/products.json");case 3:t=e.sent,a(t),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Loading Error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){s()}),[]),Object(m.jsx)("div",{className:"app",children:Object(m.jsx)(v,{children:Object(m.jsxs)(h,{children:[Object(m.jsx)(ve,{}),Object(m.jsx)("main",{className:"main",children:Object(m.jsx)(j.c,{children:Object(m.jsxs)(j.a,{path:"/",children:[Object(m.jsx)(j.a,{index:!0,element:Object(m.jsx)(J,{products:c})}),Object(m.jsxs)(j.a,{path:":category",children:[Object(m.jsx)(j.a,{index:!0,element:Object(m.jsx)(ue,{products:c})}),Object(m.jsx)(j.a,{path:":productId",element:Object(m.jsx)(te,{products:c})})]}),Object(m.jsx)(j.a,{path:"cart",element:Object(m.jsx)(Q,{})}),Object(m.jsx)(j.a,{path:"favorites",element:Object(m.jsx)(se,{})}),Object(m.jsx)(j.a,{path:"*",element:Object(m.jsx)(ne,{})})]})})}),Object(m.jsx)(fe,{})]})})})});s.a.render(Object(m.jsx)(n.a,{children:Object(m.jsx)(pe,{})}),document.getElementById("root"))}]),[[66,1,2]]]);
//# sourceMappingURL=main.fde9f1f9.chunk.js.map