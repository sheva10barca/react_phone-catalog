(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(41).concat([function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(30),a=c.n(s),n=c(5),i=c(8),r=c(9),o=c(4),l=c(6),d=c.n(l),u=c(0),j=c.n(u),b=c(3),m=function(e,t){var c=Object(u.useState)((function(){try{var c=localStorage.getItem(e);return c?JSON.parse(c):t}catch(s){return t}})),s=Object(o.a)(c,2),a=s[0],n=s[1];return[a,function(t){n(t),localStorage.setItem(e,JSON.stringify(t))}]},_=c(1),h=j.a.createContext({favoriteProducts:[],setFavoriteProducts:function(){}}),O=function(e){var t=e.children,c=m("favorites",[]),s=Object(o.a)(c,2),a=s[0],n=s[1],i=Object(u.useMemo)((function(){return{favoriteProducts:a,setFavoriteProducts:n}}),[a]);return Object(_.jsx)(h.Provider,{value:i,children:t})},v=j.a.createContext({productsInCart:[],setProductsInCart:function(){}}),x=function(e){var t=e.children,c=m("cart",[]),s=Object(o.a)(c,2),a=s[0],n=s[1],i=Object(u.useMemo)((function(){return{productsInCart:a,setProductsInCart:n}}),[a]);return Object(_.jsx)(v.Provider,{value:i,children:t})},f=c(7),p=c.n(f),N=(c(41),c.p+"static/media/banner1.b4eeda8b.png"),g=c.p+"static/media/banner2.bdd2e0fc.png",y=c.p+"static/media/banner3.a962057c.png",P=c.p+"static/media/arrow-left.7e79118d.svg",C=c.p+"static/media/arrow-right.079e7aa2.svg",k=[N,g,y],S=function(){var e=Object(u.useState)(0),t=Object(o.a)(e,2),c=t[0],s=t[1],a=function(){s((function(e){return(e+1)%k.length}))};return Object(u.useEffect)((function(){var e=setInterval(a,5e3);return function(){return clearInterval(e)}}),[]),Object(_.jsx)("div",{className:"container",children:Object(_.jsxs)("div",{className:"carousel",children:[Object(_.jsxs)("div",{className:"carousel__content",children:[Object(_.jsx)("button",{onClick:function(){s((function(e){return 0===e?k.length-1:e-1}))},className:"carousel__button",type:"button",children:Object(_.jsx)("img",{src:P,alt:"arrow-left"})}),Object(_.jsx)("div",{className:"carousel__images",children:k.map((function(e,t){return Object(_.jsx)("div",{className:"carousel__image",style:{opacity:t===c?1:0},children:Object(_.jsx)("img",{src:e,alt:"Slide ".concat(t+1),className:"carousel__img"})},e)}))}),Object(_.jsx)("button",{onClick:a,className:"carousel__button",type:"button",children:Object(_.jsx)("img",{src:C,alt:"arrow-right"})})]}),Object(_.jsx)("div",{className:"carousel__dots",children:k.map((function(e,t){return Object(_.jsx)("div",{onKeyDown:function(e){return function(e,t){"Enter"!==e.key&&" "!==e.key||s(t)}(e,t)},className:p()("carousel__dot",{active:t===c}),onClick:function(){return s(t)}},e)}))})]})})},w=c(11),A=c(34),B=(c(44),function(e){var t=e.handleAddToCart,c=e.id,s=Object(u.useContext)(v).productsInCart.some((function(e){return e.id===c&&0!==e.quantity}));return Object(_.jsx)("button",{type:"button",className:p()("AddToCartButton",{isItemInCart:s}),onClick:function(){t()},children:s?"Added to cart":"Add to cart"})}),I=(c(45),function(e){var t=e.handleAddToFavorites,c=e.isItemFav;return Object(_.jsx)("button",{type:"button",className:p()("AddToFavButton",{isItemFav:c}),onClick:t,"data-cy":"addToFavorite"})}),D="https://mate-academy.github.io/react_phone-catalog/api/products";function F(e){return new Promise((function(t){setTimeout(t,e)}))}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s={method:t};return c&&(s.body=JSON.stringify(c),s.headers={"Content-Type":"application/json; charset=UTF-8"}),F(300).then((function(){return fetch(D+e,s)})).then((function(e){if(!e.ok)throw new Error;return e.json()}))}var M,E=function(e){return T(e)},L=function(e){return E("/".concat(e,".json"))},q=function(e,t){return e-e/100*t};!function(e){e.phone="phone",e.tablet="tablet",e.accessory="accessory"}(M||(M={}));c(46);var R=j.a.memo((function(e){var t=e.product,c=t.name,s=t.price,a=t.discount,l=t.screen,j=t.capacity,b=t.ram,m=t.id,O=t.imageUrl,x=t.type,f=Object(u.useContext)(v),p=f.productsInCart,N=f.setProductsInCart,g=Object(u.useContext)(h),y=g.favoriteProducts,P=g.setFavoriteProducts,C=Object(u.useState)(!1),k=Object(o.a)(C,2),S=k[0],D=k[1],F=Object(u.useState)(),T=Object(o.a)(F,2),E=T[0],R=T[1];Object(u.useEffect)((function(){D(!0);var e=function(){var e=Object(r.a)(d.a.mark((function e(){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(t.id);case 3:c=e.sent,R(c),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Loading Error");case 10:return e.prev=10,D(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){D(!1)}}),[]);var U=q(s,a),z=function(e){switch(e){case M.tablet:return"tablets";case M.accessory:return"accessories";case M.phone:default:return"phones"}}(x),$=p.some((function(e){return e.id===m})),G=y.some((function(e){return e.id===m}));return Object(_.jsx)("div",{className:"ProductCard",children:Object(_.jsx)("div",{className:"ProductCard__content",children:S?Object(_.jsx)(A.a,{strokeColor:"#EB5757",strokeWidth:"5",animationDuration:"0.75",width:"66",visible:S}):Object(_.jsxs)(_.Fragment,{children:[E&&Object(_.jsx)(n.b,{to:"/".concat(z,"/").concat(m),state:E,className:"ProductCard__photo",children:Object(_.jsx)("img",{src:O,alt:"product",className:"ProductCard__img"})}),Object(_.jsx)("div",{className:"ProductCard__title",children:c}),Object(_.jsxs)("div",{className:"ProductCard__price",children:[Object(_.jsx)("div",{className:"ProductCard__price-normal",children:"$".concat(U)}),a>0&&Object(_.jsx)("div",{className:"ProductCard__price-discounted",children:"$".concat(s)})]}),Object(_.jsxs)("div",{className:"ProductCard__details",children:[Object(_.jsxs)("div",{className:"ProductCard__details-item",children:[Object(_.jsx)("div",{className:"ProductCard__details-item__name",children:"Screen"}),Object(_.jsx)("div",{className:"ProductCard__details-item__value",children:l||"unknown"})]}),Object(_.jsxs)("div",{className:"ProductCard__details-item",children:[Object(_.jsx)("div",{className:"ProductCard__details-item__name",children:"Capacity"}),Object(_.jsx)("div",{className:"ProductCard__details-item__value",children:j||"unknown"})]}),Object(_.jsxs)("div",{className:"ProductCard__details-item",children:[Object(_.jsx)("div",{className:"ProductCard__details-item__name",children:"RAM"}),Object(_.jsx)("div",{className:"ProductCard__details-item__value",children:b||"unknown"})]})]}),Object(_.jsxs)("div",{className:"ProductCard__buttons",children:[Object(_.jsx)(B,{handleAddToCart:function(){if($){var e=p.filter((function(e){return e.id!==m}));N(e)}else{var c=Object(w.a)(Object(w.a)({},t),{},{quantity:1});N([].concat(Object(i.a)(p),[c]))}},id:m}),Object(_.jsx)(I,{handleAddToFavorites:function(){if(G){var e=y.filter((function(e){return e.id!==m}));P(e)}else P([].concat(Object(i.a)(y),[t]))},isItemFav:G})]})]})})})})),U=(c(47),j.a.memo((function(e){var t=e.title,c=e.products,s=Object(u.useState)(0),a=Object(o.a)(s,2),n=a[0],i=a[1],r=Object(u.useMemo)((function(){return c.slice(n,n+4)}),[c,n]),l=0===n,d=n===c.length-4;return Object(_.jsx)("div",{className:"container",children:Object(_.jsxs)("div",{className:"ProductsSlider",children:[Object(_.jsxs)("div",{className:"ProductsSlider__content",children:[Object(_.jsx)("h2",{className:"ProductsSlider__title",children:t}),Object(_.jsxs)("div",{className:"ProductsSlider__buttons",children:[Object(_.jsx)("button",{type:"button",onClick:function(){i((function(e){return Math.max(0,e-1)}))},disabled:l,className:p()("ProductsSlider__button",{disabled:l}),children:Object(_.jsx)("img",{src:P,alt:"arrow-left"})}),Object(_.jsx)("button",{type:"button",onClick:function(){i((function(e){return Math.min(e+1,c.length-4)}))},disabled:d,className:p()("ProductsSlider__button",{disabled:d}),children:Object(_.jsx)("img",{src:C,alt:"arrow-right"})})]})]}),Object(_.jsx)("div",{className:"ProductsSlider__cards","data-cy":"cardsContainer",children:r.map((function(e){return Object(_.jsx)("div",{className:"ProductsSlider__card",children:Object(_.jsx)(R,{product:e})},e.id)}))})]})})}))),z=(c(48),j.a.memo((function(e){var t=e.products,c=function(e,t){return e.filter((function(e){return e.type===t})).length};return Object(_.jsx)("div",{className:"container",children:Object(_.jsxs)("div",{className:"ShopByCategory",children:[Object(_.jsx)("h2",{className:"ShopByCategory__title",children:"Shop by category"}),Object(_.jsxs)("div",{className:"ShopByCategory__links","data-cy":"categoryLinksContainer",children:[Object(_.jsxs)(n.b,{to:"/phones",className:"ShopByCategory__link",children:[Object(_.jsx)("div",{className:"ShopByCategory__link-photo ShopByCategory__link-photo__phones"}),Object(_.jsx)("h3",{className:"ShopByCategory__link-title",children:"Mobile phones"}),Object(_.jsx)("h4",{className:"ShopByCategory__link-subtitle",children:"".concat(c(t,M.phone)," models")})]}),Object(_.jsxs)(n.b,{to:"/tablets",className:"ShopByCategory__link",children:[Object(_.jsx)("div",{className:"ShopByCategory__link-photo ShopByCategory__link-photo__tablets"}),Object(_.jsx)("h3",{className:"ShopByCategory__link-title",children:"Tablets"}),Object(_.jsx)("h4",{className:"ShopByCategory__link-subtitle",children:"".concat(c(t,M.tablet)," models")})]}),Object(_.jsxs)(n.b,{to:"/accessories",className:"ShopByCategory__link",children:[Object(_.jsx)("div",{className:"ShopByCategory__link-photo ShopByCategory__link-photo__accessories"}),Object(_.jsx)("h3",{className:"ShopByCategory__link-title",children:"Accessories"}),Object(_.jsx)("h4",{className:"ShopByCategory__link-subtitle",children:"".concat(c(t,M.accessory)," models")})]})]})]})})}))),$=j.a.memo((function(e){var t=e.products,c=Object(u.useMemo)((function(){return t.filter((function(e){return e.discount>0})).sort((function(e,t){return e.discount-t.discount}))}),[t]),s=Object(u.useMemo)((function(){return t.filter((function(e){return 0===e.discount})).sort((function(e,t){return t.price-e.price}))}),[t]);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(S,{}),Object(_.jsx)(U,{title:"Hot prices",products:c}),Object(_.jsx)(z,{products:t}),Object(_.jsx)(U,{title:"Brand new models",products:s})]})}));function G(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(o.a)(e,2),s=t[0],a=t[1];null===a?c.delete(s):Array.isArray(a)?(c.delete(s),a.forEach((function(e){c.append(s,e)}))):c.set(s,a)})),c.toString()}var J=[{value:"age",label:"Newest"},{value:"name",label:"Alphabetically"},{value:"price",label:"Cheapest"}],H=(c(49),function(e){var t=e.options,c=e.value,s=e.onChange,a=Object(u.useState)(!1),n=Object(o.a)(a,2),i=n[0],r=n[1],l=function(){r((function(e){return!e}))},d=t.find((function(e){return e.value===c}));Object(u.useEffect)((function(){var e=function(e){"Escape"===e.key&&r(!1)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]);return Object(_.jsxs)("div",{className:"DropDown",children:[Object(_.jsx)("div",{className:p()("DropDown__select",{"DropDown__select--is-active":i}),onClick:l,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),l())},role:"button",tabIndex:0,children:d?d.label:""}),i&&Object(_.jsx)("ul",{className:"DropDown__list",children:t.map((function(e){return Object(_.jsx)("li",{className:p()("DropDown__item",{"DropDown__item--selected":c===e.value}),onClick:function(){return t=e.value,s(t),void r(!1);var t},children:e.label},e.value)}))})]})}),W=c.p+"static/media/arrow-right-gray.a374b573.svg",Y=c.p+"static/media/home.f28213b9.svg",K=(c(50),function(){var e=Object(b.l)().pathname.split("/").filter((function(e){return""!==e})),t=function(e){var t="";return e.map((function(e){return t+="/".concat(e),{label:e.charAt(0).toUpperCase()+e.slice(1),link:t}}))}(e);return Object(_.jsx)("nav",{className:"breadcrumbs","data-cy":"breadCrumbs",children:Object(_.jsxs)("ul",{className:"breadcrumbs__list",children:[Object(_.jsx)("li",{className:"breadcrumbs__item",children:Object(_.jsx)(n.b,{to:"/",children:Object(_.jsx)("img",{src:Y,alt:"home icon",className:"breadcrumbs__icon"})})}),0!==t.length&&Object(_.jsx)("img",{src:W,alt:""}),t.map((function(c,s){var a=s===e.length-1,i=p()("breadcrumbs__item",{active:a});return Object(_.jsx)(u.Fragment,{children:a?Object(_.jsx)("li",{className:i,children:c.label},c.link):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("li",{className:i,children:Object(_.jsx)(n.b,{to:c.link,children:c.label})},c.link),0!==t.length&&Object(_.jsx)("img",{src:W,alt:"arrow right"})]})},c.link)}))]})})}),Q=(c(51),function(e){var t=e.phonesLength,c=e.pageSize,s=e.currentPage,a=Object(n.d)(),i=Object(o.a)(a,1)[0],r=function(e,t){for(var c=Math.ceil(e/t),s=[],a=1;a<=c;a+=1)s.push(a);return s}(t,c);return Object(_.jsxs)("div",{className:"Pagination","data-cy":"pagination",children:[Object(_.jsx)(n.b,{className:"Pagination__button Pagination__button--prev","data-cy":"paginationLeft",to:{search:G(i,{currentPage:1!==s?"".concat(s-1):"1"})},children:Object(_.jsx)("img",{src:P,alt:"previous page button"})}),r.map((function(e){return Object(_.jsx)(n.b,{to:{search:G(i,{currentPage:"".concat(e)})},className:p()("Pagination__button","Pagination__button--page",{active:s===e}),children:e},e)})),Object(_.jsx)(n.b,{className:"Pagination__button Pagination__button--next","data-cy":"paginationRight",to:{search:G(i,{currentPage:s!==r.length?"".concat(s+1):"".concat(r.length)})},children:Object(_.jsx)("img",{src:C,alt:"next page button"})})]})}),V=c.p+"static/media/6134065.41ade0ad.png",X=(c(52),function(){return Object(_.jsxs)("div",{className:"NoSearchResults",children:[Object(_.jsx)("img",{src:V,alt:"no results",className:"NoSearchResults__image"}),Object(_.jsx)("h1",{className:"NoSearchResults__title",children:"No search results"})]})}),Z=(c(53),j.a.memo((function(e){var t=e.phones,c=Object(n.d)(),s=Object(o.a)(c,2),a=s[0],r=s[1],l=a.get("query")||"",d=a.get("sortBy")||"age",j=a.get("pageSize")||4,b=a.get("currentPage")||1,m=Object(u.useMemo)((function(){return t.filter((function(e){var t=l.toLowerCase().trim();return e.name.toLowerCase().trim().includes(t)}))}),[t,l]),h=Object(u.useMemo)((function(){var e=Object(i.a)(m);switch(d){case"name":e.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case"price":e.sort((function(e,t){return e.price-t.price}));break;default:e.sort((function(e,t){return t.age-e.age}))}return e}),[d,m]),O=(+b-1)*+j,v=O+ +j,x=Object(u.useMemo)((function(){return h.slice(O,+v)}),[h,O,v]),f=h.length,p=[4,8,f],N=f>4&&+j!==+f;return Object(_.jsx)("div",{className:"PhonesPage",children:Object(_.jsx)("div",{className:"container",children:0===x.length&&l?Object(_.jsx)(X,{}):Object(_.jsxs)("div",{className:"PhonesPage__content",children:[Object(_.jsx)(K,{}),Object(_.jsx)("h1",{className:"PhonesPage__title",children:"Mobile phones"}),Object(_.jsx)("h3",{className:"PhonesPage__subtitle",children:"".concat(f," models")}),Object(_.jsxs)("div",{className:"PhonesPage__filters",children:[Object(_.jsxs)("div",{className:"PhonesPage__filter",children:[Object(_.jsx)("div",{className:"PhonesPage__label",children:"Sort by"}),Object(_.jsx)(H,{options:J,value:d,onChange:function(e){r(G(a,{sortBy:e||null,currentPage:"1"}))}})]}),Object(_.jsxs)("div",{className:"PhonesPage__filter",children:[Object(_.jsx)("div",{className:"PhonesPage__label",children:"Items on page"}),Object(_.jsx)(H,{options:p.map((function(e){return{value:String(e),label:e===f?"All":String(e)}})),value:String(j),onChange:function(e){r(G(a,{pageSize:e||null,currentPage:"1"}))}})]})]}),Object(_.jsx)("div",{className:"ProductsList","data-cy":"productList",children:x.map((function(e){return Object(_.jsx)(R,{product:e},e.id)}))}),N&&f>0&&Object(_.jsx)(Q,{currentPage:+b,pageSize:+j,phonesLength:f})]})})})}))),ee=(c(54),j.a.memo((function(e){var t=e.category;return Object(_.jsx)("div",{className:"NoResults",children:Object(_.jsx)("h1",{className:"NoResults__title",children:"".concat(t," not found")})})}))),te=(c(55),function(){var e=Object(b.n)();return Object(_.jsxs)("button",{"data-cy":"backButton",type:"button",className:"BackButton",onClick:function(){return e(-1)},children:[Object(_.jsx)("img",{src:P,alt:"back button",className:"BackButton__image"}),Object(_.jsx)("div",{className:"BackButton__text",children:"Back"})]})}),ce=(c(56),j.a.memo((function(e){var t=e.tablets,c=Object(n.d)(),s=Object(o.a)(c,1)[0].get("query")||"",a=Object(u.useMemo)((function(){return t.filter((function(e){var t=s.toLowerCase().trim();return e.name.toLowerCase().trim().includes(t)}))}),[t,s]);return Object(_.jsx)("div",{className:"TabletsPage",children:Object(_.jsx)("div",{className:"container",children:Object(_.jsxs)("div",{className:"TabletsPage__content",children:[!a.length&&s&&Object(_.jsx)(X,{}),a.length||s?a.length>0&&Object(_.jsxs)("div",{className:"TabletsPage__content",children:[Object(_.jsx)(K,{}),Object(_.jsx)(te,{}),Object(_.jsx)("h1",{className:"TabletsPage__title",children:"Tablets"}),Object(_.jsx)("div",{className:"TabletsPage__list","data-cy":"productList",children:a.map((function(e){return Object(_.jsx)(R,{product:e},e.id)}))})]}):Object(_.jsx)(ee,{category:"Tablets"})]})})})}))),se=(c(57),j.a.memo((function(e){var t=e.accessories;return Object(_.jsx)("div",{className:"AccessoriesPage",children:Object(_.jsx)("div",{className:"container",children:Object(_.jsxs)("div",{className:"AccessoriesPage__content",children:[Object(_.jsx)(K,{}),Object(_.jsx)(te,{}),0===t.length?Object(_.jsx)(ee,{category:"Accessories"}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h1",{className:"AccessoriesPage__title",children:"Accessories"}),Object(_.jsx)("div",{className:"AccessoriesPage__list","data-cy":"productList",children:t.map((function(e){return Object(_.jsx)(R,{product:e},e.id)}))})]})]})})})}))),ae=c.p+"static/media/cross.0be1ed2a.svg",ne=(c(58),"PLUS"),ie="MINUS",re=function(e){var t=e.product,c=t.name,s=t.imageUrl,a=t.price,n=t.discount,i=t.id,r=t.quantity,o=Object(u.useContext)(v),l=o.productsInCart,d=o.setProductsInCart,j=a*r,b=function(e){d(l.filter((function(t){return t.id!==e})))},m=function(e,t){var c=l.some((function(t){return t.id===e}));r&&c&&(t===ne&&d(l.map((function(t){return t.id===e?Object(w.a)(Object(w.a)({},t),{},{quantity:r+1}):t}))),t===ie&&d(l.map((function(t){return t.id===e?Object(w.a)(Object(w.a)({},t),{},{quantity:r-1}):t}))),0===r&&b(e))};return Object(_.jsxs)("div",{className:"CartItem",children:[Object(_.jsx)("button",{type:"button",className:"CartItem__remove-btn","data-cy":"cartDeleteButton",onClick:function(){return b(i)},children:Object(_.jsx)("img",{src:ae,alt:"delete item"})}),Object(_.jsx)("div",{className:"CartItem__photo",children:Object(_.jsx)("img",{src:s,alt:"",className:"CartItem__img"})}),Object(_.jsx)("div",{className:"CartItem__title",children:c}),Object(_.jsx)("button",{type:"button",className:"CartItem__decrease",onClick:function(){return m(i,ie)},children:"-"}),Object(_.jsx)("div",{className:"CartItem__quantity","data-cy":"productQuantity",children:r}),Object(_.jsx)("button",{type:"button",className:"CartItem__increase",onClick:function(){return m(i,ne)},children:"+"}),Object(_.jsx)("div",{className:"CartItem__price",children:"$".concat(n?q(j,n):j)})]})},oe=(c(59),function(e){var t=e.onClose;return Object(u.useEffect)((function(){var e=setTimeout((function(){t()}),3e3);return function(){clearTimeout(e)}}),[t]),Object(_.jsx)("div",{className:"popup",children:Object(_.jsxs)("div",{className:"popup__container",children:[Object(_.jsx)("h2",{className:"popup__title",children:"We are sorry, but this feature is not implemented yet"}),Object(_.jsx)("button",{className:"popup__btn",onClick:t,type:"button",children:"Close"})]})})}),le=function(e){Object(u.useEffect)((function(){var t=document.querySelector("body");return t&&(e?(t.classList.add("popup-open"),t.style.overflow="hidden"):(t.classList.remove("popup-open"),t.style.overflow="auto")),function(){t&&(t.classList.remove("popup-open"),t.style.overflow="auto")}}),[e])},de=(c(60),function(){var e=Object(u.useContext)(v).productsInCart,t=Object(u.useState)(!1),c=Object(o.a)(t,2),s=c[0],a=c[1],i=e.reduce((function(e,t){return e+q(t.price,t.discount)*t.quantity}),0),r=Object(u.useMemo)((function(){return e.reduce((function(e,t){return e+t.quantity}),0)}),[e]),l=function(){a((function(e){return!e}))};return le(s),Object(_.jsx)("div",{className:"CartPage",children:Object(_.jsx)("div",{className:"container",children:Object(_.jsxs)("div",{className:"CartPage__content",children:[Object(_.jsx)(te,{}),0===r?Object(_.jsxs)("h1",{className:"CartPage__title CartPage__title--no-products",children:["Your cart is empty. Maybe you want to choose something in"," ",Object(_.jsx)(n.b,{className:"CartPage__link",to:"/phones",children:"Phones"}),","," ",Object(_.jsx)(n.b,{className:"CartPage__link",to:"/tablets",children:"Tablets"})," ","or"," ",Object(_.jsx)(n.b,{className:"CartPage__link",to:"/accessories",children:"Accessories"})," ","?"]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h1",{className:"CartPage__title",children:"Cart"}),Object(_.jsxs)("div",{className:"CartPage__blocks",children:[Object(_.jsx)("div",{className:"CartPage__list",children:e.map((function(e){return 0!==e.quantity&&Object(_.jsx)(re,{product:e},e.id)}))}),Object(_.jsx)("div",{className:"CartPage__checkout",children:Object(_.jsxs)("div",{className:"CartPage__checkout-content",children:[Object(_.jsx)("div",{className:"CartPage__checkout-title",children:"$".concat(i)}),Object(_.jsx)("div",{className:"CartPage__checkout-subtitle",children:"Total for ".concat(r," items")}),Object(_.jsx)("button",{type:"button",className:"CartPage__checkout-button",onClick:l,disabled:s,children:"Checkout"}),s&&Object(_.jsx)(oe,{onClose:l})]})})]})]})]})})})}),ue=(c(61),j.a.memo((function(e){var t=e.suggestedProducts,c=e.products,s=Object(b.l)(),a=s.state,n=Object(u.useState)(null===a||void 0===a?void 0:a.images[0]),r=Object(o.a)(n,2),l=r[0],d=r[1],j=Object(u.useState)(),m=Object(o.a)(j,2),O=m[0],x=m[1],f=Object(u.useState)(!1),p=Object(o.a)(f,2),N=p[0],g=p[1],y=Object(u.useContext)(v),P=y.productsInCart,C=y.setProductsInCart,k=Object(u.useContext)(h),S=k.favoriteProducts,A=k.setFavoriteProducts;Object(u.useEffect)((function(){(null===a||void 0===a?void 0:a.images[0])!==l&&d(null===a||void 0===a?void 0:a.images[0])}),[null===a||void 0===a?void 0:a.images]),Object(u.useEffect)((function(){!c||O&&(null===O||void 0===O?void 0:O.id)===(null===a||void 0===a?void 0:a.id)||function(){var e=c.find((function(e){return e.id===(null===a||void 0===a?void 0:a.id)}));x(e)}()}),[O,c,null===a||void 0===a?void 0:a.id]);var D=O&&q(O.price,O.discount),F=P.some((function(e){return e.id===(null===a||void 0===a?void 0:a.id)})),T=S.some((function(e){return e.id===(null===a||void 0===a?void 0:a.id)})),M=function(){g((function(e){return!e}))};le(N);var E=Object(u.useMemo)((function(){return t.filter((function(e){return e.id!==(null===O||void 0===O?void 0:O.id)}))}),[t,O]);return Object(_.jsx)("div",{className:"ProductDetailsPage",children:Object(_.jsxs)("div",{className:"container",children:[O||s.state?Object(_.jsxs)("div",{className:"ProductDetailsPage__content",children:[Object(_.jsx)(K,{}),Object(_.jsx)(te,{}),Object(_.jsx)("h1",{className:"ProductDetailsPage__title",children:null===a||void 0===a?void 0:a.name}),Object(_.jsxs)("div",{className:"ProductDetailsPage__main",children:[Object(_.jsx)("ul",{className:"ProductDetailsPage__list",children:null===a||void 0===a?void 0:a.images.map((function(e){return Object(_.jsx)("li",{className:"ProductDetailsPage__photo",onClick:function(){return d(e)},children:Object(_.jsx)("img",{className:"ProductDetailsPage__photo-img",src:e,alt:"product img"})},e)}))}),Object(_.jsx)("div",{className:"ProductDetailsPage__current",children:Object(_.jsx)("img",{src:l,alt:"main img",className:"ProductDetailsPage__current-img"})}),Object(_.jsxs)("div",{className:"ProductDetailsPage__characteristics",children:[Object(_.jsxs)("div",{className:"ProductDetailsPage__colors colors",children:[Object(_.jsx)("div",{className:"colors__text",children:"Available colors"}),Object(_.jsxs)("div",{className:"colors__list",children:[Object(_.jsx)("button",{className:"colors__link colors__link-active",type:"button",onClick:M,children:Object(_.jsx)("div",{className:"colors__link-color colors__link-color--1"})}),Object(_.jsx)("button",{className:"colors__link",type:"button",onClick:M,children:Object(_.jsx)("div",{className:"colors__link-color colors__link-color--2"})}),Object(_.jsx)("button",{className:"colors__link",type:"button",onClick:M,children:Object(_.jsx)("div",{className:"colors__link-color colors__link-color--3"})}),Object(_.jsx)("button",{className:"colors__link",type:"button",onClick:M,children:Object(_.jsx)("div",{className:"colors__link-color colors__link-color--4"})})]})]}),Object(_.jsxs)("div",{className:"ProductDetailsPage__capacities capacities",children:[Object(_.jsx)("div",{className:"capacities__text",children:"Select capacity"}),Object(_.jsxs)("div",{className:"capacities__list",children:[Object(_.jsx)("button",{type:"button",onClick:M,className:"capacities__link capacities__link-active",children:"64 GB"}),Object(_.jsx)("button",{type:"button",onClick:M,className:"capacities__link",children:"256 GB"}),Object(_.jsx)("button",{type:"button",onClick:M,className:"capacities__link",children:"512 GB"})]})]}),Object(_.jsxs)("div",{className:"ProductDetailsPage__price price",children:[Object(_.jsx)("div",{className:"price__normal",children:"$".concat(D)}),O&&(null===O||void 0===O?void 0:O.discount)>0&&Object(_.jsx)("div",{className:"price__without-discount",children:"$".concat(O.price)})]}),Object(_.jsxs)("div",{className:"ProductDetailsPage__buttons buttons",children:[Object(_.jsx)(B,{handleAddToCart:function(){if(F){var e=P.filter((function(e){return e.id!==(null===a||void 0===a?void 0:a.id)}));C(e)}else if(O){var t=Object(w.a)(Object(w.a)({},O),{},{quantity:1});C([].concat(Object(i.a)(P),[t]))}},id:null===a||void 0===a?void 0:a.id}),Object(_.jsx)(I,{handleAddToFavorites:function(){if(T){var e=S.filter((function(e){return e.id!==(null===a||void 0===a?void 0:a.id)}));A(e)}else O&&A([].concat(Object(i.a)(S),[O]))},isItemFav:T})]}),Object(_.jsxs)("div",{className:"ProductDetailsPage__details details",children:[Object(_.jsxs)("div",{className:"details__item",children:[Object(_.jsx)("div",{className:"details__name",children:"Screen"}),Object(_.jsx)("div",{className:"details__value",children:null===a||void 0===a?void 0:a.display.screenSize})]}),Object(_.jsxs)("div",{className:"details__item",children:[Object(_.jsx)("div",{className:"details__name",children:"Resolution"}),Object(_.jsx)("div",{className:"details__value",children:null===a||void 0===a?void 0:a.display.screenResolution})]}),Object(_.jsxs)("div",{className:"details__item",children:[Object(_.jsx)("div",{className:"details__name",children:"Processor"}),Object(_.jsx)("div",{className:"details__value",children:null===a||void 0===a?void 0:a.hardware.cpu})]}),Object(_.jsxs)("div",{className:"details__item",children:[Object(_.jsx)("div",{className:"details__name",children:"RAM"}),Object(_.jsx)("div",{className:"details__value",children:null===a||void 0===a?void 0:a.storage.ram})]})]})]}),Object(_.jsx)("div",{className:"ProductDetailsPage__id",children:"ID: ".concat(null===a||void 0===a?void 0:a.id)})]}),Object(_.jsxs)("div",{className:"ProductDetailsPage__info",children:[Object(_.jsxs)("div",{className:"ProductDetailsPage__about about","data-cy":"productDescription",children:[Object(_.jsx)("h2",{className:"about__title",children:"About"}),Object(_.jsx)("div",{className:"about__description",children:null===a||void 0===a?void 0:a.description})]}),Object(_.jsxs)("div",{className:"ProductDetailsPage__tech tech",children:[Object(_.jsx)("h2",{className:"tech__title",children:"Tech specs"}),Object(_.jsxs)("div",{className:"tech__details details",children:[Object(_.jsxs)("div",{className:"details__item details__item--tech",children:[Object(_.jsx)("div",{className:"details__name",children:"Screen"}),Object(_.jsx)("div",{className:"details__value",children:null===a||void 0===a?void 0:a.display.screenSize})]}),Object(_.jsxs)("div",{className:"details__item details__item--tech",children:[Object(_.jsx)("div",{className:"details__name",children:"Resolution"}),Object(_.jsx)("div",{className:"details__value",children:null===a||void 0===a?void 0:a.display.screenResolution})]}),Object(_.jsxs)("div",{className:"details__item details__item--tech",children:[Object(_.jsx)("div",{className:"details__name",children:"Processor"}),Object(_.jsx)("div",{className:"details__value",children:null===a||void 0===a?void 0:a.hardware.cpu})]}),Object(_.jsxs)("div",{className:"details__item details__item--tech",children:[Object(_.jsx)("div",{className:"details__name",children:"RAM"}),Object(_.jsx)("div",{className:"details__value",children:null===a||void 0===a?void 0:a.storage.ram})]}),Object(_.jsxs)("div",{className:"details__item details__item--tech",children:[Object(_.jsx)("div",{className:"details__name",children:"Built in memory"}),Object(_.jsx)("div",{className:"details__value",children:null===a||void 0===a?void 0:a.storage.flash})]}),Object(_.jsxs)("div",{className:"details__item details__item--tech",children:[Object(_.jsx)("div",{className:"details__name",children:"Camera"}),Object(_.jsx)("div",{className:"details__value",children:null===a||void 0===a?void 0:a.camera.primary})]}),Object(_.jsxs)("div",{className:"details__item details__item--tech",children:[Object(_.jsx)("div",{className:"details__name",children:"Bluetooth"}),Object(_.jsx)("div",{className:"details__value",children:null===a||void 0===a?void 0:a.connectivity.bluetooth})]}),Object(_.jsxs)("div",{className:"details__item details__item--tech",children:[Object(_.jsx)("div",{className:"details__name",children:"Wifi"}),Object(_.jsx)("div",{className:"details__value",children:null===a||void 0===a?void 0:a.connectivity.wifi})]})]})]})]}),Object(_.jsx)(U,{title:"You may also like",products:E},null===a||void 0===a?void 0:a.id)]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(te,{}),Object(_.jsx)(ee,{category:"Product"})]}),N&&Object(_.jsx)(oe,{onClose:M})]})})}))),je=(c(62),function(){var e=Object(u.useContext)(h).favoriteProducts,t=Object(n.d)(),c=Object(o.a)(t,1)[0].get("query")||"",s=Object(u.useMemo)((function(){return e.filter((function(e){var t=c.toLowerCase().trim();return e.name.toLowerCase().trim().includes(t)}))}),[e,c]);return Object(_.jsx)("div",{className:"FavoritesPage",children:Object(_.jsx)("div",{className:"container",children:Object(_.jsxs)("div",{className:"FavoritesPage__content",children:[Object(_.jsx)(K,{}),0===s.length&&!c&&Object(_.jsxs)("h1",{className:"FavoritesPage__title FavoritesPage__title--no-products",children:["You don't have any favorite products. Maybe you want to choose something in"," ",Object(_.jsx)(n.b,{className:"FavoritesPage__link",to:"/phones",children:"Phones"}),","," ",Object(_.jsx)(n.b,{className:"FavoritesPage__link",to:"/tablets",children:"Tablets"})," ","or"," ",Object(_.jsx)(n.b,{className:"FavoritesPage__link",to:"/accessories",children:"Accessories"})," ","?"]}),0===s.length&&c&&Object(_.jsx)(X,{}),s.length>0&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h1",{className:"FavoritesPage__title",children:"Favorites"}),Object(_.jsx)("div",{className:"FavoritesPage__quantity",children:"".concat(s.length," items")}),Object(_.jsx)("div",{className:"FavoritesPage__list",children:s.map((function(e){return Object(_.jsx)(R,{product:e},e.id)}))})]})]})})})}),be=(c(63),function(){return Object(_.jsxs)("div",{className:"NotFoundPage",children:[Object(_.jsx)("div",{className:"NotFoundPage__back",children:Object(_.jsx)(te,{})}),Object(_.jsx)("div",{className:"NotFoundPage__title",children:Object(_.jsx)("h1",{children:"Page not found..."})})]})});var me=c.p+"static/media/search.1e77bbf1.svg",_e=(c(64),function(){var e=Object(n.d)(),t=Object(o.a)(e,2),c=t[0],s=t[1],a=c.get("query")||"",i=Object(u.useState)(a),r=Object(o.a)(i,2),l=r[0],d=r[1],j=Object(b.l)().pathname.split("/")[1],m=Object(u.useCallback)(function(e,t){var c=0;return function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];window.clearTimeout(c),c=window.setTimeout((function(){e.apply(void 0,a)}),t)}}(s,1e3),[j]);return Object(_.jsxs)("div",{className:"Search",children:[Object(_.jsx)("input",{type:"text",className:"Search__input",placeholder:"Search in ".concat(j,"..."),value:l,onChange:function(e){return function(e){var t=e.target.value.toLowerCase();m(G(c,{query:t||null,currentPage:"1"})),d(t)}(e)}}),Object(_.jsx)("button",{className:"Search__btn",type:"button",children:a?Object(_.jsx)("img",{src:ae,alt:"close","data-cy":"searchDelete",onClick:function(){d(""),s(G(c,{query:null}))}}):Object(_.jsx)("img",{src:me,alt:"search"})})]})}),he=["/phones","/tablets","/accessories","/favorites"],Oe=c.p+"static/media/logo.839aa95d.svg",ve=c.p+"static/media/burger__menu.7eed0fb5.svg",xe=(c(65),function(){var e=Object(b.l)(),t=Object(u.useContext)(h).favoriteProducts,c=Object(u.useContext)(v).productsInCart,s=Object(u.useState)(!1),a=Object(o.a)(s,2),i=a[0],r=a[1],l=he.some((function(t){return t===e.pathname})),d=Object(u.useMemo)((function(){return t.length}),[t]),j=Object(u.useMemo)((function(){return c.reduce((function(e,t){return e+t.quantity}),0)}),[c]),m=function(){r((function(e){return!e}))};return Object(u.useEffect)((function(){return document.documentElement.style.overflow=i?"hidden":"auto",function(){document.documentElement.style.overflow="auto"}}),[i]),Object(_.jsxs)("header",{className:"header",children:[Object(_.jsxs)("nav",{className:"header__nav",children:[Object(_.jsx)(n.b,{to:"/",className:"header__logo",children:Object(_.jsx)("img",{src:Oe,alt:"logo",className:"header__logo-img"})}),Object(_.jsx)("button",{type:"button",className:"header__burger",onClick:m,children:Object(_.jsx)("img",{src:ve,alt:"menu"})}),Object(_.jsxs)("div",{className:p()("header__mobile mobile",{show:i}),children:[Object(_.jsxs)("div",{className:"mobile__header",children:[Object(_.jsx)(n.b,{to:"/",className:"mobile__logo",children:Object(_.jsx)("img",{src:Oe,alt:"logo",className:"mobile__logo-img"})}),Object(_.jsx)("button",{type:"button",className:"mobile__burger",onClick:m,children:Object(_.jsx)("img",{src:ve,alt:"menu"})})]}),Object(_.jsx)("div",{className:"mobile__search",children:l&&Object(_.jsx)(_e,{})}),Object(_.jsxs)("ul",{className:"mobile__menu",children:[Object(_.jsx)("li",{className:"mobile__item",children:Object(_.jsx)(n.c,{to:"/",className:function(e){var t=e.isActive;return p()("header__link",{"header__link--active":t})},children:"Home"})}),Object(_.jsx)("li",{className:"mobile__item",children:Object(_.jsx)(n.c,{to:"/phones",className:function(e){var t=e.isActive;return p()("header__link",{"header__link--active":t})},children:"Phones"})}),Object(_.jsx)("li",{className:"mobile__item",children:Object(_.jsx)(n.c,{to:"/tablets",className:function(e){var t=e.isActive;return p()("header__link",{"header__link--active":t})},children:"Tablets"})}),Object(_.jsx)("li",{className:"mobile__item",children:Object(_.jsx)(n.c,{to:"/accessories",className:function(e){var t=e.isActive;return p()("header__link",{"header__link--active":t})},children:"Accessories"})})]}),Object(_.jsxs)("div",{className:"mobile__buttons",children:[Object(_.jsx)(n.c,{to:"/favorites",className:"header__button header__button--fav mobile__button",children:Object(_.jsx)("span",{className:p()("header__quantity",{active:d>0}),children:d})}),Object(_.jsx)(n.c,{to:"/cart",className:"header__button header__button--cart mobile__button",children:Object(_.jsx)("span",{className:p()("header__quantity",{active:j>0}),children:j})})]})]}),Object(_.jsxs)("ul",{className:"header__menu",children:[Object(_.jsx)("li",{className:"header__item",children:Object(_.jsx)(n.c,{to:"/",className:function(e){var t=e.isActive;return p()("header__link",{"header__link--active":t})},children:"Home"})}),Object(_.jsx)("li",{className:"header__item",children:Object(_.jsx)(n.c,{to:"/phones",className:function(e){var t=e.isActive;return p()("header__link",{"header__link--active":t})},children:"Phones"})}),Object(_.jsx)("li",{className:"header__item",children:Object(_.jsx)(n.c,{to:"/tablets",className:function(e){var t=e.isActive;return p()("header__link",{"header__link--active":t})},children:"Tablets"})}),Object(_.jsx)("li",{className:"header__item",children:Object(_.jsx)(n.c,{to:"/accessories",className:function(e){var t=e.isActive;return p()("header__link",{"header__link--active":t})},children:"Accessories"})})]})]}),Object(_.jsxs)("div",{className:"header__buttons",children:[l&&Object(_.jsx)(_e,{}),Object(_.jsx)(n.c,{to:"/favorites",className:"header__button header__button--fav",children:Object(_.jsx)("span",{className:p()("header__quantity",{active:d>0}),children:d})}),Object(_.jsx)(n.c,{to:"/cart",className:"header__button header__button--cart",children:Object(_.jsx)("span",{className:p()("header__quantity",{active:j>0}),children:j})})]})]})}),fe=c.p+"static/media/footer-button.470683b8.svg",pe=(c(66),function(){return Object(_.jsx)("footer",{className:"footer",children:Object(_.jsx)("div",{className:"container",children:Object(_.jsxs)("div",{className:"footer__content",children:[Object(_.jsx)(n.b,{to:"/",className:"footer__logo",children:Object(_.jsx)("img",{src:Oe,alt:"logo"})}),Object(_.jsxs)("ul",{className:"footer__menu",children:[Object(_.jsx)("li",{className:"footer__item",children:Object(_.jsx)(n.b,{to:"https://github.com/sheva10barca",target:"_blank",children:"Github"})}),Object(_.jsx)("li",{className:"footer__item",children:Object(_.jsx)(n.b,{to:"/contacts",target:"_blank",children:"Contacts"})}),Object(_.jsx)("li",{className:"footer__item",children:Object(_.jsx)(n.b,{to:"/rights",target:"_blank",children:"Rights"})})]}),Object(_.jsxs)("div",{className:"footer__button",onClick:function(){window.scrollTo({top:0,left:0})},children:[Object(_.jsx)("div",{className:"footer__button-text",children:"Back to top"}),Object(_.jsx)("div",{className:"footer__button-arrow",children:Object(_.jsx)("button",{type:"button",className:"footer__button-btn",children:Object(_.jsx)("img",{src:fe,alt:"button back to top"})})})]})]})})})}),Ne=(c(67),function(){var e=Object(u.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],a=function(){var e=Object(r.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(".json");case 3:t=e.sent,s(t),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Loading Error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),n=Object(u.useMemo)((function(){return c.filter((function(e){return e.type===M.phone}))}),[c]),l=Object(u.useMemo)((function(){return c.filter((function(e){return e.type===M.tablet}))}),[c]),j=Object(u.useMemo)((function(){return c.filter((function(e){return e.type===M.accessory}))}),[c]),m=Object(u.useMemo)((function(){return Object(i.a)(c).sort((function(){return Math.random()-.5}))}),[c]);return Object(u.useEffect)((function(){a()}),[]),Object(_.jsx)("div",{className:"app",children:Object(_.jsx)(x,{children:Object(_.jsxs)(O,{children:[Object(_.jsx)(xe,{}),Object(_.jsx)("main",{className:"main",children:Object(_.jsx)(b.c,{children:Object(_.jsxs)(b.a,{path:"/",children:[Object(_.jsx)(b.a,{index:!0,element:Object(_.jsx)($,{products:c})}),Object(_.jsxs)(b.a,{path:"phones",children:[Object(_.jsx)(b.a,{index:!0,element:Object(_.jsx)(Z,{phones:n})}),Object(_.jsx)(b.a,{path:":productId",element:Object(_.jsx)(ue,{products:n,suggestedProducts:m})})]}),Object(_.jsxs)(b.a,{path:"tablets",children:[Object(_.jsx)(b.a,{index:!0,element:Object(_.jsx)(ce,{tablets:l})}),Object(_.jsx)(b.a,{path:":productId",element:Object(_.jsx)(ue,{products:l,suggestedProducts:m})})]}),Object(_.jsxs)(b.a,{path:"accessories",children:[Object(_.jsx)(b.a,{index:!0,element:Object(_.jsx)(se,{accessories:j})}),Object(_.jsx)(b.a,{path:":productId",element:Object(_.jsx)(ue,{products:j,suggestedProducts:m})})]}),Object(_.jsx)(b.a,{path:"cart",element:Object(_.jsx)(de,{})}),Object(_.jsx)(b.a,{path:"favorites",element:Object(_.jsx)(je,{})}),Object(_.jsx)(b.a,{path:"*",element:Object(_.jsx)(be,{})})]})})}),Object(_.jsx)(pe,{})]})})})});a.a.render(Object(_.jsx)(n.a,{children:Object(_.jsx)(Ne,{})}),document.getElementById("root"))}]),[[68,1,2]]]);
//# sourceMappingURL=main.5955a50e.chunk.js.map